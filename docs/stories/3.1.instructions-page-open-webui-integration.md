# Story 3.1: Instructions Page for Open WebUI Integration

## Status
Ready for Development

## Story
**As a** workshop attendee,
**I want** clear step-by-step instructions for using processed markdown in Open WebUI,
**so that** I can successfully complete the end-to-end workflow from document upload to RAG usage.

## Acceptance Criteria

1. Instructions page accessible from main navigation (link visible on upload screen and success screen)
2. Step-by-step guide with numbered instructions: (1) Process document using this tool, (2) Download markdown file, (3) Open Open WebUI, (4) Navigate to RAG/Documents section, (5) Upload markdown file, (6) Verify document appears in knowledge base
3. Screenshots or annotated images showing Open WebUI interface for each step (RAG navigation, upload button, confirmation screen)
4. Troubleshooting section addresses common issues: "Markdown not appearing in RAG" → check file format, "AI responses still inaccurate" → verify document uploaded to correct workspace
5. Tips for optimal results: "Use Quality mode for complex documents", "Enable OCR for scanned PDFs", "Break very large documents into sections"
6. Responsive layout: instructions readable on mobile devices, images scale appropriately without horizontal scrolling
7. "Back to Upload" navigation link returns users to main application flow

## Tasks / Subtasks

- [ ] Create Instructions page component and routing (AC: 1, 7)
  - [ ] Create `frontend/src/app/instructions/page.tsx`
  - [ ] Add navigation link to Instructions page in main navigation
  - [ ] Add Instructions link on upload screen and success screen
  - [ ] Implement "Back to Upload" navigation link
  - [ ] Ensure proper routing and navigation flow

- [ ] Design and implement step-by-step instruction layout (AC: 2)
  - [ ] Create numbered step components with clear visual hierarchy
  - [ ] Implement responsive layout for mobile and desktop
  - [ ] Add proper typography and spacing for readability
  - [ ] Ensure accessibility with proper heading structure
  - [ ] Add progress indicators or visual step separators

- [ ] Create Open WebUI interface screenshots and annotations (AC: 3)
  - [ ] Capture screenshots of Open WebUI RAG/Documents section
  - [ ] Create annotated images showing upload button and confirmation screens
  - [ ] Optimize images for web display and mobile scaling
  - [ ] Add alt text and descriptions for accessibility
  - [ ] Implement image lazy loading for performance

- [ ] Implement troubleshooting section (AC: 4)
  - [ ] Create troubleshooting component with common issues
  - [ ] Add expandable/collapsible issue sections
  - [ ] Include clear problem-solution pairs
  - [ ] Add links to relevant help resources
  - [ ] Ensure troubleshooting is accessible and keyboard navigable

- [ ] Add tips for optimal results section (AC: 5)
  - [ ] Create tips component with processing recommendations
  - [ ] Include visual indicators for different processing modes
  - [ ] Add context-aware tips based on document types
  - [ ] Implement tooltip or expandable format for detailed tips
  - [ ] Ensure tips are easily scannable and actionable

- [ ] Implement responsive design and mobile optimization (AC: 6)
  - [ ] Ensure layout adapts to mobile screen sizes
  - [ ] Implement proper image scaling for mobile devices
  - [ ] Add touch-friendly navigation and interaction elements
  - [ ] Test horizontal scrolling prevention
  - [ ] Optimize typography for mobile readability

- [ ] Add accessibility features (AC: All)
  - [ ] Implement proper semantic HTML structure
  - [ ] Add ARIA labels and descriptions for interactive elements
  - [ ] Ensure keyboard navigation throughout the page
  - [ ] Add skip navigation links for screen readers
  - [ ] Test with screen reader compatibility

- [ ] Create comprehensive tests (AC: All)
  - [ ] Create `frontend/src/tests/app/instructions.test.tsx`
  - [ ] Test navigation links and routing
  - [ ] Test responsive layout on different screen sizes
  - [ ] Test accessibility features and keyboard navigation
  - [ ] Test image loading and alt text display

## Dev Notes

### Previous Story Insights
[Source: Story 2.3 - Comprehensive Error Handling & Actionable Messages]
- Error handling system is implemented and can be used for troubleshooting guidance
- ErrorAlert component exists and can be referenced for consistent UI patterns
- Accessibility patterns are established and can be applied to instructions page

[Source: Story 2.2 - Enhanced Status Display & Progress Indicators]
- Status polling system is implemented and can inform processing time expectations
- Progress indicators exist and can be referenced for visual step indicators
- Mobile-responsive patterns are established

[Source: Story 2.1 - Processing Options UI & Backend Integration]
- Processing options (Fast/Quality modes, OCR toggle) are implemented
- Processing service integration is working and can inform tips section
- File validation patterns exist and can inform troubleshooting

### Instructions Page Architecture
[Source: docs/architecture.md#Frontend-Architecture]

**Page Structure:**
```tsx
// Instructions page layout
<InstructionsPage>
  <Header>
    <Title>How to Use Processed Documents in Open WebUI</Title>
    <Navigation>
      <BackToUploadLink />
    </Navigation>
  </Header>
  
  <StepsSection>
    <Step number={1} title="Process Document">
      <Content>...</Content>
      <Screenshot />
    </Step>
    // ... more steps
  </StepsSection>
  
  <TipsSection>
    <Tip type="processing" />
    <Tip type="document" />
  </TipsSection>
  
  <TroubleshootingSection>
    <Issue problem="Markdown not appearing" solution="..." />
    // ... more issues
  </TroubleshootingSection>
</InstructionsPage>
```

### Navigation Integration
[Source: docs/architecture.md#Frontend-Architecture]

**Navigation Links:**
```tsx
// Main navigation component enhancement
<Navigation>
  <Link href="/upload">Upload</Link>
  <Link href="/instructions">Instructions</Link>
  // ... other links
</Navigation>

// Upload screen integration
<FileDropzone>
  {/* existing content */}
  <HelpLink href="/instructions">
    Need help? View Instructions
  </HelpLink>
</FileDropzone>

// Success screen integration
<SuccessScreen>
  {/* existing content */}
  <NextSteps>
    <Link href="/instructions">How to use in Open WebUI</Link>
  </NextSteps>
</SuccessScreen>
```

### Responsive Design Specifications
[Source: docs/architecture.md#Frontend-Architecture]

**Mobile-First Approach:**
```tsx
// Responsive breakpoints
const breakpoints = {
  mobile: '320px',
  tablet: '768px',
  desktop: '1024px'
};

// Mobile layout considerations
- Single column layout on mobile
- Touch-friendly button sizes (44px minimum)
- Readable font sizes (16px minimum)
- Proper image scaling without horizontal scroll
- Collapsible sections to save space
```

### Screenshot and Image Requirements
[Source: docs/architecture.md#Frontend-Architecture]

**Image Specifications:**
- Format: WebP with PNG fallback
- Size: Optimized for web (max 800px width)
- Alt text: Descriptive for screen readers
- Lazy loading: Implement for performance
- Annotations: Clear, high-contrast overlays

**Required Screenshots:**
1. Open WebUI main interface
2. RAG/Documents navigation
3. File upload dialog
4. Upload confirmation screen
5. Document appearing in knowledge base

### Troubleshooting Content Strategy
[Source: docs/architecture.md#Error-Handling]

**Common Issues and Solutions:**
```tsx
interface TroubleshootingIssue {
  problem: string;
  solution: string;
  relatedLinks?: string[];
  severity: 'critical' | 'warning' | 'info';
}

const troubleshootingIssues: TroubleshootingIssue[] = [
  {
    problem: "Markdown not appearing in RAG",
    solution: "Check that the file is in .md format and under 10MB. Ensure the file contains valid markdown syntax.",
    severity: 'critical'
  },
  {
    problem: "AI responses still inaccurate",
    solution: "Verify the document was uploaded to the correct workspace. Try re-uploading with Quality mode enabled.",
    severity: 'warning'
  }
];
```

### Tips Content Strategy
[Source: Story 2.1 - Processing Options]

**Processing Tips:**
- Document complexity considerations
- File size recommendations
- OCR usage guidelines
- Format selection advice

**Quality Tips:**
- When to use Quality vs Fast mode
- OCR recommendations for scanned documents
- Document structure best practices
- File naming conventions

### Accessibility Requirements
[Source: docs/architecture.md#Security-and-Performance]

**WCAG 2.1 AA Compliance:**
- Semantic HTML structure with proper heading hierarchy
- ARIA labels and descriptions for interactive elements
- Keyboard navigation for all interactive components
- Screen reader compatibility with proper alt text
- High contrast color scheme
- Focus indicators for keyboard navigation

**Accessibility Implementation:**
```tsx
// Semantic structure example
<main role="main" aria-labelledby="instructions-title">
  <h1 id="instructions-title">How to Use Processed Documents</h1>
  
  <section aria-labelledby="steps-heading">
    <h2 id="steps-heading">Step-by-Step Instructions</h2>
    <ol>
      <li>
        <h3>Step 1: Process Document</h3>
        <p>...</p>
        <img 
          src="..." 
          alt="Screenshot showing document processing interface"
          loading="lazy"
        />
      </li>
    </ol>
  </section>
</main>
```

### File Locations
[Source: docs/architecture/source-tree.md]

**Frontend Files:**
- `frontend/src/app/instructions/page.tsx` - New instructions page
- `frontend/src/components/instructions/` - New instruction components directory
- `frontend/src/components/instructions/Step.tsx` - Step component
- `frontend/src/components/instructions/Troubleshooting.tsx` - Troubleshooting component
- `frontend/src/components/instructions/Tips.tsx` - Tips component
- `frontend/src/assets/images/instructions/` - Screenshot assets
- `frontend/src/tests/app/instructions.test.tsx` - Page tests

**Modified Files:**
- `frontend/src/app/layout.tsx` - Add navigation link
- `frontend/src/components/FileDropzone.tsx` - Add instructions link
- `frontend/src/components/ProcessingCard.tsx` - Add instructions link on success

### Integration with Existing Components
[Source: Current component implementations]

**Navigation Integration:**
```tsx
// Enhanced main navigation
const MainNavigation = () => {
  return (
    <nav aria-label="Main navigation">
      <Link href="/upload">Upload</Link>
      <Link href="/instructions">Instructions</Link>
    </nav>
  );
};

// Upload screen enhancement
const FileDropzone = () => {
  return (
    <div>
      {/* existing content */}
      <div className="mt-4 text-center">
        <Link 
          href="/instructions"
          className="text-blue-600 hover:text-blue-800"
        >
          Need help? View Instructions →
        </Link>
      </div>
    </div>
  );
};
```

### Performance Considerations
[Source: docs/architecture.md#Performance-Standards]

**Optimization Requirements:**
- Image lazy loading for screenshots
- Code splitting for instructions page
- Optimized image assets with proper compression
- Efficient rendering of large instruction content
- Minimal JavaScript bundle impact

**Performance Implementation:**
```tsx
// Lazy loading for images
<img 
  src={placeholder}
  data-src={actualImage}
  alt="..."
  loading="lazy"
  className="lazy-load"
/>

// Component code splitting
const InstructionsPage = lazy(() => import('./instructions/page'));
```

### Testing Strategy
[Source: docs/architecture/coding-standards.md#Testing-Standards]

**Frontend Testing Requirements:**
- Test file location: `frontend/src/tests/`
- Use Vitest + React Testing Library
- Test navigation links and routing
- Test responsive layout on different screen sizes
- Test accessibility features
- Test image loading and alt text
- Test troubleshooting functionality

**Specific Testing Requirements:**
- Navigation link functionality
- Mobile responsive layout
- Image lazy loading
- Accessibility compliance
- Keyboard navigation
- Screen reader compatibility

### SEO and Content Considerations
[Source: docs/architecture.md#Frontend-Architecture]

**SEO Requirements:**
- Proper meta tags and descriptions
- Semantic HTML structure
- Descriptive alt text for images
- Clear heading hierarchy
- Internal linking structure

**Content Strategy:**
- Clear, concise instructions
- Action-oriented language
- Visual learning support
- Progressive disclosure of information
- Contextual help and guidance

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-06 | 1.0 | Initial story draft for instructions page and Open WebUI integration | Scrum Master |

## Dev Agent Record

### Agent Model Used

claude-sonnet-4-5-20250929

### Debug Log References

N/A - Story is in draft phase

### Completion Notes

To be populated by development team upon completion

### File List

To be populated by development team upon completion

## QA Results

<!-- To be populated by QA agent -->